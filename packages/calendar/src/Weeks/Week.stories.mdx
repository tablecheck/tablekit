import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { Week } from './index';
import { useCalendarContext, Root } from '../Root';

<Meta
  title="Components/Calendar/Week"
  component={Week}
  parameters={{
    options: { isToolshown: true }
  }}
/>

The `Week` export of the date picker supports rendering one week of dates, it expects in a single array from the `calendar[].weeks` array.

export const displayDate = new Date('2021-06-21');

export const Template = ({ weekOfMonth }) => {
  const { calendars } = useCalendarContext();
  const week = calendars[0].weeks.slice(weekOfMonth)[0];
  return (
    <Week week={week} weekOfMonth={calendars[0].weeks.indexOf(week) + 1} />
  );
};

<Canvas>
  <Story name="Month start without outside days">
    <Root date={displayDate}>
      <Template weekOfMonth={0} />
    </Root>
  </Story>
</Canvas>

<Canvas>
  <Story name="Month end with outside days">
    <Root date={displayDate} selected={new Date('2021-07-02')} showOutsideDays>
      <Template weekOfMonth={-1} />
    </Root>
  </Story>
</Canvas>

<Canvas>
  <Story name="Today and Selected">
    <Root date={displayDate} selected={new Date('2021-06-23')}>
      <Template weekOfMonth={3} />
    </Root>
  </Story>
</Canvas>

<Canvas>
  <Story name="Date Range">
    <Root
      date={displayDate}
      selected={[new Date('2021-06-22'), new Date('2021-06-24')]}
    >
      <Template weekOfMonth={3} />
    </Root>
  </Story>
</Canvas>

<Canvas>
  <Story name="Date Range partial selection">
    <Root date={displayDate} selected={[new Date('2021-06-22')]}>
      <Template weekOfMonth={3} />
    </Root>
  </Story>
</Canvas>

<Canvas>
  <Story name="Monday as first day of week">
    <Root
      date={displayDate}
      firstDayOfWeek={1}
      selected={new Date('2021-06-22')}
    >
      <Template weekOfMonth={3} />
    </Root>
  </Story>
</Canvas>
